<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // 1. 배열(iterable)에 사용되는 for문 (of)
      const bgArr = ["보규", "장민", "은주"];
      for (let name of bgArr) {
        console.log("체킁 : ", name);
      }

      // 2. 객체에 사용되는 for문 (in)
      const bgObj = { name: "보규", age: 23, nickName: "메롱" };
      for (let attr in bgObj) {
        console.log("체킁 key :", attr);
        console.log("체킁 value :", bgObj[attr]); // 배열식 접근법
      }

      // // 3. 객체의 속성들을 배열로 리턴해주는 방법
      alert(Object.keys(bgObj));

      // 4. forEach는 만들어 쓸 수 있다.
      const BgArr = function () {
        this.length = 0;
        return this;
      };

      // 4.1. push 메소드 만들기
      BgArr.prototype.push = function (pVal) {
        this[this.length] = pVal;
        this.length++;
        return this; // 메소드 체이닝 완성
      };
      // 4.2. forEach 메소드 만들기
      BgArr.prototype.forEach = function (pCallback) {
        // 아래 for문 흐름만 이해되면 forEach 이해된 것이다.
        for (let i = 0; i < this.length; i++) {
          pCallback(this[i], i);
          //   pCallback.call(this, this[i], i); // 만약 this를 제어하고 싶다면 사용한다.,
        }
      };

      // 4.3. 확인
      let testArr = new BgArr();
      testArr.push("보규").push("장민").push("은주");
      testArr.forEach(function (pVal, pIndex) {
        // pIndex나 pVal 가지고 원하는 코드를 작성하면 끝난다.
        alert(`forEach | ${pIndex} : ${pVal}`);
      });
    </script>
  </body>
</html>
